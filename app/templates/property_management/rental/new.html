<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>租賃房產資訊填寫</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='/property_management/rental/style.css') }}">
</head>
<body>
    <div class="container">
        <div id="alert-success" class="alert alert-success">提交成功！</div>
        <div id="alert-error" class="alert alert-error">提交失敗，請重試。</div>
        <div class="left-column">
            <form id="property-form">
                <div class="form-group">
                    <label for="name">名稱</label>
                    <input type="text" id="name" name="name">
                    <div class="info">不填寫則由AI自動生成</div>
                </div>
                <div class="form-group">
                    <label for="description">簡述</label>
                    <input type="text" id="description" name="description">
                    <div class="info">不填寫則由AI自動生成</div>
                </div>
                <div class="form-group">
                    <label for="detailed_description">詳細描述</label>
                    <textarea id="detailed_description" name="detailed_description" rows="4"></textarea>
                    <div class="info">不填寫則由AI自動生成</div>
                </div>
                <div class="form-group">
                    <label for="area">坪數 *</label>
                    <input type="number" id="area" name="area" required>
                </div>
                <div class="form-group">
                    <label for="address">地址 *</label>
                    <input type="text" id="address" name="address" required>
                </div>
                <div class="form-group">
                    <label for="floor_info">樓層資訊 *</label>
                    <input type="text" id="floor_info" name="floor_info" required>
                    <div class="info">例如: "3/5" 表示五層樓中的第三層</div>
                </div>
                <div class="form-group">
                    <label for="rent_price">租金價格 *</label>
                    <input type="number" id="rent_price" name="rent_price" required>
                </div>
                <div class="form-group">
                    <label for="deposit">押金價格 *</label>
                    <input type="number" id="deposit" name="deposit" required>
                </div>
                <div class="form-group">
                    <label for="negotiation">議價 *</label>
                    <select id="negotiation" name="negotiation" required>
                        <option value="true">可議價</option>
                        <option value="false" selected>不可議價</option>
                    </select>
                    <div class="negotiation-price">
                        <label for="min_price">最低價格</label>
                        <input type="number" id="min_price" name="min_price" value="0">
                        <label for="max_price">最高價格</label>
                        <input type="number" id="max_price" name="max_price" value="0">
                    </div>
                </div>
                <div class="form-group">
                    <label for="property_type">房產類型 *</label>
                    <select id="property_type" name="property_type" required>
                        <option value="studio" selected>獨立套房</option>
                        <option value="entire_home">整層住家</option>
                        <option value="shared_room">雅房</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="layout">房型 *</label>
                    <select id="layout" name="layout" required>
                        <option value="1_room" selected>一室</option>
                        <option value="2_rooms">兩室</option>
                        <option value="3_rooms">三室</option>
                        <option value="4_rooms">四室</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="building_type">建築類型 *</label>
                    <select id="building_type" name="building_type" required>
                        <option value="elevator_building" selected>電梯大樓</option>
                        <option value="apartment">公寓</option>
                        <option value="townhouse">透天厝</option>
                        <option value="villa">別墅</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="electric">包含電費 *</label>
                    <select id="electric" name="electric" required>
                        <option value="false" selected>否</option>
                        <option value="true">是</option>
                    </select>
                    <div class="additional-fee" style="display: block;">
                        <label for="electric_price_per_unit">電費單價 (每單位)</label>
                        <input type="number" id="electric_price_per_unit" name="electric_price_per_unit" value="6">
                    </div>
                </div>
                <div class="form-group">
                    <label for="internet">包含網路費 *</label>
                    <select id="internet" name="internet" required>
                        <option value="false">否</option>
                        <option value="true" selected>是</option>
                    </select>
                    <div class="additional-fee">
                        <label for="internet_additional_fee">網路附加費用</label>
                        <input type="number" id="internet_additional_fee" name="internet_additional_fee" value="0">
                    </div>
                    <div class="internet-speed" style="display: block;">
                        <label for="internet_download_speed">下載 (Mbps)</label>
                        <input type="number" id="internet_download_speed" name="internet_download_speed" value="0" required>
                        <label for="internet_upload_speed">上傳 (Mbps)</label>
                        <input type="number" id="internet_upload_speed" name="internet_upload_speed" value="0" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="water">包含水費 *</label>
                    <select id="water" name="water" required>
                        <option value="false">否</option>
                        <option value="true" selected>是</option>
                    </select>
                    <div class="additional-fee">
                        <label for="water_additional_fee">水費附加費用</label>
                        <input type="number" id="water_additional_fee" name="water_additional_fee" value="0">
                    </div>
                </div>
                <div class="form-group">
                    <label for="management_fee">包含管理費 *</label>
                    <select id="management_fee" name="management_fee" required>
                        <option value="false">否</option>
                        <option value="true" selected>是</option>
                    </select>
                    <div class="additional-fee">
                        <label for="management_fee_additional_fee">管理費附加費用</label>
                        <input type="number" id="management_fee_additional_fee" name="management_fee_additional_fee" value="0">
                    </div>
                </div>
                <div class="form-group">
                    <label for="community">社區</label>
                    <input type="text" id="community" name="community">
                </div>
                <div class="form-group">
                    <label for="min_lease_months">最短租期(月) *</label>
                    <input type="number" id="min_lease_months" name="min_lease_months" value="12" required>
                </div>
                <div class="form-actions">
                    <button type="submit">
                        <i class="fas fa-paper-plane animated-icon"></i> 提交
                    </button>
                </div>
            </form>
        </div>
        <div class="right-column">
            <div class="image-upload-container">
                <div class="image-upload-preview" id="image-upload-preview" ondrop="handleDrop(event)" ondragover="handleDragOver(event)">
                    <img id="current-image" src="" alt="目前上傳的圖片" style="display: none;">
                    <button class="remove-image-btn" onclick="removeImage()" style="display: none;"><i class="fas fa-times"></i></button>
                    <input type="file" id="images" name="images" multiple required style="display:none;" onchange="handleFiles(this.files)">
                    <label for="images" class="upload-label" id="upload_text">點擊或拖曳圖片到此處上傳</label>
                </div>
                <div class="image-upload-controls">
                    <button id="prev-image" onclick="prevImage()"><i class="fas fa-chevron-left"></i> 前一張</button>
                    <button id="next-image" onclick="nextImage()">下一張 <i class="fas fa-chevron-right"></i></button>
                </div>
            </div>
            <div class="form-group">
                <label for="has_balcony">是否有陽台</label>
                <select id="has_balcony" name="has_balcony">
                    <option value="true">有</option>
                    <option value="false" selected>無</option>
                </select>
            </div>
            <div class="form-group">
                <label for="building_age">建築年齡(可選)</label>
                <input type="number" id="building_age" name="building_age">
            </div>
            <div class="form-group">
                <label for="decoration_style">裝修風格</label>
                <input type="text" id="decoration_style" name="decoration_style">
                <div class="info">不填寫則由AI自動判別</div>
            </div>
            <div class="form-group">
                <label for="features">特色 *</label>
                <select id="features" name="features" multiple required>
                    <option value="allow_cooking">可開伙</option>
                    <option value="allow_cats">可養貓</option>
                    <option value="allow_dogs">可養狗</option>
                    <option value="allow_other_pets">可養其他寵物</option>
                    <option value="dry_wet_separation">乾濕分離</option>
                    <option value="mother_son_parking">子母車</option>
                    <option value="water_dispenser">飲水機</option>
                    <option value="surveillance">監視器</option>
                    <option value="elevator">電梯</option>
                    <option value="access_control">門禁磁扣</option>
                </select>
                <div class="info" style="color: red;">此選項不支援AI自動標記</div>
            </div>
           <div class="form-group">
                <label for="furniture">家具</label>
                <select id="furniture" name="furniture" multiple>
                    <option value="sofa">沙發</option>
                    <option value="bed">床</option>
                    <option value="desk_chair">桌椅</option>
                    <option value="dining_table">餐桌</option>
                    <option value="wardrobe">衣櫃</option>
                    <option value="bookshelf">書架</option>
                    <option value="tv_stand">電視櫃</option>
                    <option value="nightstand">床頭櫃</option>
                    <option value="dresser">梳妝台</option>
                    <option value="shoe_rack">鞋架</option>
                </select>
                <div class="info">不填寫則由AI自動標記</div>
            </div>
            <div class="form-group">
                <label for="amenities">便利設施</label>
                <select id="amenities" name="amenities" multiple>
                    <option value="wifi">Wi-Fi分享器</option>
                    <option value="washing_machine">洗衣機</option>
                    <option value="refrigerator">冰箱</option>
                    <option value="water_heater">熱水器</option>
                    <option value="microwave">微波爐</option>
                    <option value="air_conditioner">冷氣</option>
                    <option value="heater">暖氣</option>
                    <option value="tv">電視</option>
                    <option value="dishwasher">洗碗機</option>
                    <option value="oven">烤箱</option>
                    <option value="fan">電風扇</option>
                    <option value="air_purifier">空氣清淨機</option>
                    <option value="fire_extinguisher">滅火器</option>
                    <option value="smoke_detector">煙霧探測器</option>
                    <option value="electric_stove">電磁爐</option>
                </select>
                <div class="info">不填寫則由AI自動標記</div>
            </div>
            <div class="form-group">
                <label for="tenant_preferences">租客限制</label>
                <select id="tenant_preferences" name="tenant_preferences" multiple>
                    <option value="male_only">僅限男性</option>
                    <option value="female_only">僅限女性</option>
                    <option value="no_night_life">不接受夜生活</option>
                    <option value="students_only">僅限學生</option>
                    <option value="working_professionals_only">僅限職業人士</option>
                </select>
                <div class="info">不填寫則預設不限制</div>
            </div>
        </div>
    </div>
<script src="{{ url_for('static', filename='/property_management/rental/script.js') }}"></script>
</body>
</html>
